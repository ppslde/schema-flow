<Window x:Class="SchemaFlow.Wpf.MainWindow"
        xmlns="http://schemas.microsoft.com/winfx/2006/xaml/presentation"
        xmlns:x="http://schemas.microsoft.com/winfx/2006/xaml"
        xmlns:d="http://schemas.microsoft.com/expression/blend/2008"
        xmlns:mc="http://schemas.openxmlformats.org/markup-compatibility/2006"
        xmlns:vm="clr-namespace:SchemaFlow.Wpf.ViewModels"
        xmlns:model="clr-namespace:SchemaFlow.Model;assembly=SchemaFlow.Model"
        xmlns:modelAttr="clr-namespace:SchemaFlow.Model.Attributes;assembly=SchemaFlow.Model"
        xmlns:modelTypes="clr-namespace:SchemaFlow.Model.Types;assembly=SchemaFlow.Model"
        xmlns:modelContent="clr-namespace:SchemaFlow.Model.ContentModels;assembly=SchemaFlow.Model"
        xmlns:modelDocs="clr-namespace:SchemaFlow.Model.SchemaContainers;assembly=SchemaFlow.Model"
        xmlns:xctk="http://schemas.xceed.com/wpf/xaml/toolkit"
        mc:Ignorable="d"
        Title="SchemaFlow" Height="600" Width="1100">
    <Window.DataContext>
        <vm:MainViewModel />
    </Window.DataContext>

    <Window.Resources>
        <ResourceDictionary>
            <ResourceDictionary.MergedDictionaries>
                <ResourceDictionary Source="/SchemaFlow.Wpf;component/Resources/TreeTemplates.xaml" />
                <ResourceDictionary Source="/SchemaFlow.Wpf;component/Resources/DetailTemplates.xaml" />
            </ResourceDictionary.MergedDictionaries>
        </ResourceDictionary>
    </Window.Resources>

    <DockPanel>
        <StackPanel Orientation="Horizontal" DockPanel.Dock="Top" Margin="8">
            <Button Content="Open XSDs" Width="120" Click="Open_Click"/>
            <TextBlock Text="Diagnostics:" VerticalAlignment="Center" Margin="8,0,0,0"/>
            <ItemsControl ItemsSource="{Binding Diagnostics}"/>
        </StackPanel>
        <Grid>
            <Grid.ColumnDefinitions>
                <ColumnDefinition Width="2*"/>
                <ColumnDefinition Width="3*"/>
                <ColumnDefinition Width="2*"/>
            </Grid.ColumnDefinitions>

            <TreeView x:Name="Tree" ItemsSource="{Binding RootNodes}"
                      SelectedItemChanged="Tree_SelectedItemChanged"/>

            <Border Grid.Column="1" BorderBrush="Gainsboro" BorderThickness="1" Margin="8">
                <ContentControl Content="{Binding SelectedObject}" />
            </Border>

            <!-- Third panel: PropertyGrid for full inspection of the selected object -->
            <Border Grid.Column="2" BorderBrush="Gainsboro" BorderThickness="1" Margin="8">
                <xctk:PropertyGrid SelectedObject="{Binding SelectedObject}"
                                    AutoGenerateProperties="True"
                                    IsCategorized="False"
                                    NameColumnWidth="220" />
            </Border>
        </Grid>
    </DockPanel>
</Window>
